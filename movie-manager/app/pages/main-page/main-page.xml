<Page xmlns="http://schemas.nativescript.org/tns.xsd" navigatingTo="navigatingTo" class="page">
    <StackLayout>
        <GridLayout class="action-bar" columns="*, *, *">
            <StackLayout col="0" tap="searchTap" orientation="horizontal" class="action-wrap" horizontalAlignment="stretch" verticalAlignment="center">
                <Label text="Search" class="back-text" />
            </StackLayout>
            <!-- <StackLayout col="1" orientation="horizontal" class="action-wrap" horizontalAlignment="left" verticalAlignment="center">
                <Label text="Movies" class="back-text" />
            </StackLayout> -->
            <StackLayout col="2" tap="{{ ToggleViewMode }}" orientation="horizontal" class="action-wrap" horizontalAlignment="stretch" verticalAlignment="center">
                <Label text="{{ ViewModeText }}" class="back-text" />
            </StackLayout>
        </GridLayout>
        <GridLayout rows="auto">
            <SegmentedBar selectedBackgroundColor="#009940" items="{{ ViewOptions }}" selectedIndex="{{ SelectedIndex }}" />
        </GridLayout>
        <GridLayout>
            <GridLayout row="0">
                <ScrollView>
                    <ListView items="{{ ViewMode == 'Movies' ? Movies : Shows }}" itemTap="selectMovie" class="movie-list">
                        <ListView.itemTemplate>
                            <GridLayout rows="auto" columns="auto, *">
                                <GridLayout col="0" columns="auto" rows="auto" class="favorite-wrap" tap="toggleFavorite">
                                    <Image class="icon-image" src="{{ Favorite ? 'res://star_green' : 'res://star_white' }}" />
                                </GridLayout>
                                <StackLayout col="1" class="info-wrap">
                                    <Label text="{{ Title }}" class="bold info-bigger" />
                                    <Label text="{{ Type == 'Movie' ? Director : Year }}" class="info-orange" />
                                </StackLayout>
                            </GridLayout>
                        </ListView.itemTemplate>
                    </ListView>
                </ScrollView>
            </GridLayout>
            <ActivityIndicator busy="{{ IsLoading }}" row="1" horizontalAlignment="center" verticalAlignment="center" />
        </GridLayout>
    </StackLayout>
</Page>
